{% extends 'base.html' %}
{% block title %}
    {{ collection_set.name }}
{% endblock %}

{% block content_header %}
<div class="row">
  <div class="col-md-12">
    <ol class="breadcrumb">
      <li><a href={% url "collection_set_list" %}>Collection Sets</a></li>
      <li><a href={% url "collection_set_detail" collection_set.pk %} >{{ collection_set.name }}</a></li>
      <li><a href={% url "collection_detail" collection.pk %} >{{ collection.name }}</a></li>
      <li class="active">Export</li>
    </ol>
  </div>
</div>
{% endblock %}
{% block content %}
<div class="row">
    <div class="col-md-12">
    <p>
        {% if not export.collection %}
            <p><strong>Selected seeds:</strong>
            <ul>
            {% for seed in export.seeds.all %}
                <li>{{ seed }}</li>
            {% endfor %}
            </ul>
        {% endif %}

    </p>
    <p><strong>Id:</strong> {{ export.export_id }}</p>
    <p><strong>Requested:</strong> {{ export.date_requested }}</p>
    <p><strong>Status:</strong> {{ export.get_status_display }}</p>
    <p><strong>Export type:</strong> {{ export.export_type }}</p>
    <p><strong>Format:</strong> {{ export.export_format }}</p>
    <p><strong>Deduplicate:</strong> {{ export.dedupe }}</p>
    <p><strong>Item start date:</strong> {{ export.item_date_start }}</p>
    <p><strong>Item end date:</strong> {{ export.item_date_end }}</p>
    <p><strong>Harvest start date:</strong> {{ export.harvest_date_start }}</p>
    <p><strong>Harvest end date:</strong> {{ export.harvest_date_end }}</p>
    {% if export.infos %}
        <p><strong>Informational messages:</strong><ul>
            {% for msg in export.infos %}
                <li>{{ msg.message }}</li>
            {% endfor %}
        </ul></p>
    {% endif %}
    {% if export.warnings %}
        <p><strong>Warning messages:</strong><ul>
            {% for msg in export.warnings %}
                <li>{{ msg.message }}</li>
            {% endfor %}
        </ul></p>
    {% endif %}
    {% if export.errors %}
        <p><strong>Error messages:</strong><ul>
            {% for msg in export.errors %}
                <li>{{ msg.message }}</li>
            {% endfor %}
        </ul></p>
    {% endif %}

    </div>
</div>
{% if fileinfos %}
<div class="row">
    <div class="panel panel-default">
        <div class="panel-heading"><h4>Files</h4></div>
        <div class="panel-body">
            <table class="table">
              <thead>
                <tr>
                  <th>Filename</th>
                  <th>Size</th>
                </tr>
              </thead>
            {% for filename, bytes in fileinfos %}
                <tr>
                    <td><a href={% url "export_file" export.pk filename %}>{{ filename }}</a></td>
                    <td>{{ bytes|filesizeformat }}</td>
                </tr>
            {% endfor %}
            </table>
        </div>
    </div>
</div>
{% endif %}
<div class="row subsection">
    <div class="col-md-12">
        <div class="well">
        <p>Collecting and using data from social media platforms is subject to those platforms' terms (<a href="https://twitter.com/rules" target="_blank">Twitter</a>,
        <a href="https://www.flickr.com/help/guidelines" target="_blank">Flickr</a>, <a href="http://www.weibo.com/signup/v5/protocol" target="_blank">Sina Weibo</a>),
        as you agreed to them when you created your social media account. Social Feed Manager respects those platforms' terms as an
        application (<a href="https://dev.twitter.com/overview/terms/policy" target="_blank">Twitter</a>, <a href="https://www.flickr.com/services/developer" target="_blank">Flickr</a>, <a href="http://open.weibo.com/wiki/%E9%A6%96%E9%A1%B5" target="_blank">Sina Weibo</a>). </p>

        <p>Social Feed Manager provides data to you for your research and academic use. Social media platforms' terms of service <strong>generally do not allow 
        republishing of full datasets,</strong> and you should refer to their terms to understand what you may share.
        Authors typically retain rights and ownership to their content.</p>

        <p>In addition to respecting the platforms' terms, as a user of Social Feed Manager and data collected within it, it is your
        responsibility to consider the ethical aspects of collecting and using social media data. Your discipline or professional
        organization may offer guidance. Here are <a href="http://gwu-libraries.github.io/sfm-ui/resources/ethics" target="_blank">a few resources to consider.</a></p>
        </div> 
    </div>
</div>
{% endblock %}
